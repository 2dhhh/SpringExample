## 비즈니스 요구사항과 설계

- 회원
    - 회원을 가입하고 조회 가능
    - 회원 등급은 일반과 VIP 존재
    - 회원 데이터는 자체 DB를 구축하거나 혹은 외부 시스템과 연동 할 수 있다(미확정)

- 주문과 할인 정책
    - 회원은 상품을 주문할 수 있다
    - 회원 등급에 따라 할인 정책을 적용 할 수 있다
    - 할인 정책은 모든 VIP는 1000원을 할인해주는 고정 금액 할인을 적용(나중에 변경될 수 있음)
    - 할인 정책은 변경 가능성이 높다. 회사의 기본 할인 정책을 아직 정하지 못했고, 오픈 직전까지 고민을 미루고 싶고 최악의 경우 할인을 적용하지 않을 수 있다(미확정)

→ 요구 사항을 통해 회원 데이터 및 할인 정책 같은 부분을 당장 결정하기 어려움이 있다. 그렇다고 정책이
결정될 때까지 개발을 무기한 연기할 수 있는 것은 아니다

→ 객체 지향 설계 방법을 통해 개발 진행

→ 인터페이스를 만들고 구현체를 언제든지 갈아끼울 수 있도록 설계하기

→ 역할과 구현을 분리하여 설계

## 회원 도메인 설계

- 회원 도메인 요구사항
    - 회원을 가입하고 조회할 수 있다.
    - 회원은 일반과 VIP 두가지 등급이 존재
    - 회원 데이터는 자체 DB를 구축할 수 있고, 외부 시스템과 연동 할 수 있다(미확정)

### 회원 도메인 협력 관계

<img width="890" alt="스크린샷 2024-05-23 오후 5 25 16" src="https://github.com/2dhhh/SpringExample/assets/109519814/4ce9489a-03e2-4154-86ed-a8aa6b2c5709">


### 회원 클래스 다이어그램

<img width="890" alt="스크린샷 2024-05-23 오후 5 25 58" src="https://github.com/2dhhh/SpringExample/assets/109519814/795e8e26-dc86-4d5f-baf6-c0c4509eb282">


### 회원 객체 다이어그램

<img width="890" alt="스크린샷 2024-05-23 오후 5 26 49" src="https://github.com/2dhhh/SpringExample/assets/109519814/1fed46e3-6bf1-4164-a8f7-eeaac0c58d06">

### 회원 도메인 설계의 문제점(순수 자바 코드로 설계)

- 다른 저장소로 변경할 때 OCP 원칙 준수 여부 → OCP 준수 x
- DIP 준수 여부 → DIP 준수 x
- 회원 서비스는 저장소 인터페이스에 의존하면서 저장소 구현클래스에도 의존하고 있다
- 의존관계가 인터페이스 뿐만 아니라 구현까지 모두 의존하는 문제가 발생
  이는 마치 로미오와 줄리엣 연극에서 로미오 배역을 맡은 배우가 상대 배역까지 섭외하는 것과 같다



## 주문과 할인 도메인 설계

- 주문과 할인 정책
    - 회원은 상품을 주문할 수 있다
    - 회원 등급에 따라 할인 정책을 적용할 수 있다
    - 할인 정책은 모든 VIP는 1000원을 할인 해주는 고정 금액 할인을 적용(나중에 변경 될 수 있다)
    - 할인 정책은 변경 가능성이 높다. 회사의 기본 할인 정책을 아직 정하지 못했고, 오픈 직전까지 고민을 미루고 싶다. 최악의 경우 할인을 적용하지 않을 수 있다


### 주문 도메인 협력 관계

<img width="890" alt="스크린샷 2024-05-23 오후 5 39 22" src="https://github.com/2dhhh/SpringExample/assets/109519814/4d4a61cb-5b97-4e3f-8288-d3aba043e432">

### 주문 도메인 클래스 다이어그램

<img width="890" alt="스크린샷 2024-05-23 오후 5 39 53" src="https://github.com/2dhhh/SpringExample/assets/109519814/b4ce9fa5-9e94-4a5d-935a-77977f8cdac2">